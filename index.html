<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.min.js" integrity="sha512-SuxO9djzjML6b9w9/I07IWnLnQhgyYVSpHZx0JV97kGBfTIsUYlWflyuW4ypnvhBrslz1yJ3R+S14fdCWmSmSA==" crossorigin="anonymous"></script>
  </head>
  <body>
    <canvas id="chart-cost-per-mile-of-range" width="400" height="400"></canvas>
    <table id="table">
      <thead>
        <tr>
          <th>Vehicle</th>
          <th>Price (GBP)</th>
          <th>Range (miles)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Renault Zoe ZE50 R110</td>
          <td>26170</td>
          <td>195</td>
        </tr>
        <tr>
          <td>Volkswagen ID.3 Pro S</td>
          <td>39290</td>
          <td>280</td>
        </tr>
        <tr>
          <td>Hyundai Kona Electric 64 kWh</td>
          <td>35600</td>
          <td>245</td>
        </tr>
        <tr>
          <td>Kia e-Niro 64 kWh</td>
          <td>33850</td>
          <td>230</td>
        </tr>
        <tr>
          <td>Renault Zoe ZE50 R135</td>
          <td>28120</td>
          <td>190</td>
        </tr>
        <tr>
          <td>Peugeot e-208</td>
          <td>25550</td>
          <td>170</td>
        </tr>
        <tr>
          <td>Tesla Model 3 Long Range Dual Motor</td>
          <td>46990</td>
          <td>305</td>
        </tr>
        <tr>
          <td>Polestar 2</td>
          <td>46900</td>
          <td>235</td>
        </tr>
        <tr>
          <td>Nissan Leaf</td>
          <td>26845</td>
          <td>135</td>
        </tr>
        <tr>
          <td>MG ZS EV</td>
          <td>25495</td>
          <td>135</td>
        </tr>
        <tr>
          <td>Tesla Model 3 Standard Range Plus</td>
          <td>40490</td>
          <td>200</td>
        </tr>
        <tr>
          <td>Vauxhall Corsa-e</td>
          <td>26990</td>
          <td>170</td>
        </tr>
        <tr>
          <td>Peugeot e-2008 SUV</td>
          <td>28650</td>
          <td>155</td>
        </tr>
        <tr>
          <td>Nissan Leaf e+</td>
          <td>32695</td>
          <td>200</td>
        </tr>
        <tr>
          <td>Hyundai IONIQ Electric</td>
          <td>29950</td>
          <td>155</td>
        </tr>
        <tr>
          <td>Mini Electric </td>
          <td>24900</td>
          <td>115</td>
        </tr>
        <tr>
          <td>BMW i3 120 Ah</td>
          <td>32180</td>
          <td>145</td>
        </tr>
        <tr>
          <td>Volkswagen e-Golf</td>
          <td>29075</td>
          <td>115</td>
        </tr>
        <tr>
          <td>Mercedes EQC 400 4MATIC</td>
          <td>65640</td>
          <td>230</td>
        </tr>
        <tr>
          <td>Audi e-tron 50 quattro</td>
          <td>59900</td>
          <td>175</td>
        </tr>
      </tbody>
    </table>

    <script>
      var ctx = document.getElementById('chart');

      var defaultConfig = {
        type: 'horizontalBar',
        labels: [],
        data: {
          datasets: []
        },
        options: {
          scales: {
            xAxes: [{
              ticks: {
                beginAtZero: true
              }
            }]
          },
          maintainAspectRatio: false
        }
      }

      configCostPerMileOfRange = defaultConfig;

      var vehicleNames = Array.from(document.querySelectorAll('#table tbody tr td:nth-child(1)')).map(e => e.innerHTML);
      configCostPerMileOfRange.data.labels = vehicleNames;

      var prices = Array.from(document.querySelectorAll('#table tbody tr td:nth-child(2)')).map(e => Number(e.innerHTML));

      var ranges = Array.from(document.querySelectorAll('#table tbody tr td:nth-child(3)')).map(e => Number(e.innerHTML));

      configCostPerMileOfRange.data.datasets.push({
        data: ranges.map((range, index) => prices[index] / range),
        label: 'Cost per mile of range'
      });

      new Chart(document.getElementById('chart-cost-per-mile-of-range'), configCostPerMileOfRange);
    </script>
  </body>
</html>
